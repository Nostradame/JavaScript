<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Функция - строковый буфер</title>
	<meta charset="utf-8"/>
	<script>
		/*
		В некоторых языках программирования существует объект «строковый буфер», который аккумулирует внутри себя значения.
		Его функционал состоит из двух возможностей:

		Добавить значение в буфер.
		Получить текущее содержимое.
		Задача – реализовать строковый буфер на функциях в JavaScript, со следующим синтаксисом:
		
		Создание объекта: var buffer = makeBuffer();.
		Вызов makeBuffer должен возвращать такую функцию buffer, которая при вызове buffer(value) добавляет значение в
		некоторое внутреннее хранилище, а при вызове без аргументов buffer() – возвращает его.
		*/

		function makeBuffer() {
			var data = "";

			function buffer(value) {
				if (value === undefined)
					return data;
				data += value;
			}

			buffer.clear = function() {
				data = "";
			}

			return buffer;
		}

		var buffer = makeBuffer();

		// добавить значения к буферу
		buffer('Замыкания');
		buffer(' Использовать');
		buffer(' Нужно!');

		// получить текущее значение
		alert(buffer()); // Замыкания Использовать Нужно!

		document.write("<hr />");

		var buffer = makeBuffer();
		buffer(0);
		buffer(1);
		buffer(0);

		alert(buffer()); // '010'

		document.write("<hr />");

		var buffer = makeBuffer();

		buffer("Тест");
		buffer(" тебя не съест ");
		alert(buffer()); // Тест тебя не съест

		buffer.clear();

		alert(buffer()); // ""
	</script>
</head>
<body>

</body>
</html>
