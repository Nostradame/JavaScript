<!DOCTYPE html>
<html>
<head>
	<title>Формула Бине</title>
	<meta charset="utf-8" />
	
	<script>
		/*
		Последовательность чисел Фибоначчи имеет формулу Fn = Fn-1 + Fn-2. То есть, следующее число получается как сумма двух
		предыдущих.
		Первые два числа равны 1, затем 2(1+1), затем 3(1+2), 5(2+3) и так далее: 1, 1, 2, 3, 5, 8, 13, 21....

		Код для их вычисления (из задачи Числа Фибоначчи):

		function fib(n) {
			var a = 1,
			b = 0,
			x;
			for (i = 0; i < n; i++) {
				x = a + b;
				a = b
				b = x;
			}
			return b;
		}

		Существует формула Бине, согласно которой Fn равно ближайшему целому для ϕn/√5, где ϕ=(1+√5)/2 – золотое сечение.
		Напишите функцию fibBinet(n), которая будет вычислять Fn, используя эту формулу. Проверьте её для значения F77
		(должно получиться fibBinet(77) = 5527939700884757).
		Одинаковы ли результаты, полученные при помощи кода fib(n) выше и по формуле Бине? Если нет, то почему и какой из них 
		верный?

		Для проверки можно использовать ресурс: http://geleot.ru/education/math/analytic_geometry/other/Fibonacci_number
		*/

		var keyStore = [];
		
		function fib2(num) {
			if (num === 0)
				return 0;

			if (num === 1)
				return 1;

			if (keyStore[num] == undefined) {
				keyStore[num] = fib2(num - 2) + fib2(num - 1);
			}

			return keyStore[num];
		}

		function fibBinet(num) {
			return (Math.pow((1 + Math.sqrt(5)) / 2, num) / Math.sqrt(5)).toFixed(0);
		}

		document.write(fib2(77) + '<br />');
		document.write(fibBinet(77) + '<br />');

	</script>

</head>
<body>

</body>
</html>
