<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>Добавить метод и свойство кофеварке</title>
	<meta charset="utf-8"/>
	<script>
		/*
		Улучшите готовый код кофеварки, который дан ниже: добавьте в кофеварку публичный метод stop(), который
		будет останавливать кипячение (через clearTimeout).
		*/
		function CoffeeMachine(power) {
			this.waterAmount = 0;
			var timerId;

			var WATER_HEAT_CAPACITY = 4200;

			var self = this;

			function getBoilTime() {
				return self.waterAmount * WATER_HEAT_CAPACITY * 80 / power;
			}

			function onReady() {
				alert('Кофе готово!');
			}

			this.run = function () {
				timerId = setTimeout(onReady, getBoilTime());
			};

			this.stop = function() {
				clearTimeout(timerId);
			}

		}

		// Вот такой код должен ничего не выводить:

		var coffeeMachine = new CoffeeMachine(50000);
		coffeeMachine.waterAmount = 200;

		coffeeMachine.run();
		coffeeMachine.stop(); // кофе приготовлен не будет

	</script>
</head>
<body>

</body>
</html>
