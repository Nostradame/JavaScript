<!DOCTYPE html>
<html>
<head>
    <title>Локальные переменные для объекта</title>
    <script src="/scripts/5.4.js" type="text/javascript"></script>
</head>
<body>
    <h3>Сумма через замыкание</h3>
    <p>
        sum(1)(2) =
        <script>
        var p0 = document.getElementsByTagName("p")[0];
        var f1 = mathfun.sum();
        f1.sum(1)(2);
        p0.innerText += f1.result();
        </script>
    </p>
    <p>
        sum(5)(-1) =
        <script>
        var p1 = document.getElementsByTagName("p")[1];
        var f2 = mathfun.sum();
        f2.sum(5)(-1);
        p1.innerText += f2.result();
        </script>
    </p>
    <h3>Функция - строковый буфер</h3>
    <p>
        <script>
        var buffer = mathfun.buffer();
        buffer('Замыкания');
        buffer(' Использовать');
        buffer(' Нужно!');

        var p2 = document.getElementsByTagName("p")[2];
        p2.innerText = buffer();
        </script>
    </p>
    <p>
        <script>
        var buffer = mathfun.buffer();
        buffer(0);
        buffer(1);
        buffer(0);

        var p3 = document.getElementsByTagName("p")[3];
        p3.innerText = buffer();
        </script>
    </p>
    <h3>Строковый буфер с очисткой</h3>
    <p id="buffer">
        <script>
        var buffer = mathfun.buffer();
        buffer("Тест");
        buffer(" тебя не съест ");

        var p4 = document.getElementById("buffer");
        var innerHtml  = "<span>" + buffer() + "</span>";
        buffer.clear();
        innerHtml += "<span>" + buffer() + "</span>";
        p4.innerHTML = innerHtml;
        </script>
    </p>
</body>
</html>
